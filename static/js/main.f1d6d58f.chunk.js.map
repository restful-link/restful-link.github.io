{"version":3,"sources":["components/NewRequest.jsx","config.js","components/Home.jsx","components/Requests.jsx","components/Request.jsx","components/Appointment.jsx","components/App.jsx","index.js"],"names":["script","uri","evaluate","code","callback","eval","then","res","json","NewRequest","appointmentURI","id","useParams","className","type","style","display","onClick","e","document","getElementById","innerHTML","_","API_URL","useState","appointment","setAppointment","to","_id","fetch","response","d","Requests","data","active","ts","children","appointmentId","TransitionGroup","map","datum","i","CSSTransition","timeout","key","createdAt","data-key","method","headers","date","parseJSON","stringOrObject","o","JSON","parse","k","Request","class","src","payload","displayDataTypes","displayObjectSize","enableClipboard","name","iconStyle","Appointment","props","state","requests","this","match","params","io","on","push","setState","find","sort","a","b","Date","Fragment","Component","App","path","component","Home","ReactDOM","render"],"mappings":"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","file":"static/js/main.f1d6d58f.chunk.js","sourcesContent":["import React from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport \"./NewRequest.scss\";\n\nconst script = uri =>\n  `fetch('${uri}',{\n  method: 'PUT',\n  headers: {\n    'Content-Type': 'application/json'\n  },\n  body: JSON.stringify({\n    ok: true,\n    wow: {\n      this: {\n        is: 'cool'\n      }\n    }\n  })\n})`;\n\nconst evaluate = (code, callback) => {\n  // eslint-disable-next-line\n  eval(code)\n    .then(res => res.json())\n    .then(callback);\n};\n\nconst NewRequest = ({ appointmentURI }) => {\n  const { id } = useParams();\n  return (\n    <div className=\"Request NewRequest\">\n      <h3>JavaScript</h3>\n      <script id=\"script\" type=\"text/demo\" style={{ display: \"block\" }}>\n        {script(appointmentURI + \"/\" + id)}\n      </script>\n      <button\n        onClick={e =>\n          evaluate(document.getElementById(\"script\").innerHTML, _ => _)\n        }\n      >\n        Run Snippet\n      </button>\n      <br />\n      <h3>cURL</h3>\n      <pre className=\"bash wrap\">\n        curl -X POST -d\n        \"shop[name]=Supermarket&shop[products][]=fruit&shop[products][]=eggs\"{\" \"}\n        {appointmentURI}/{id}\n      </pre>\n      <pre className=\"bash wrap\">\n        curl -X PATCH -d \"this=is&so=cool\" {appointmentURI}/{id}\n      </pre>\n      <pre className=\"bash wrap\">\n        curl -X PUT -d \"this=is&so=cool\" {appointmentURI}/{id}\n      </pre>\n      <pre className=\"bash wrap\">\n        curl -X DELETE {appointmentURI}/{id}\n      </pre>\n    </div>\n  );\n};\nexport default NewRequest;\n","const config = {\n  development: {\n    API_URL: \"http://localhost:3030\"\n  },\n  test: {\n    API_URL: \"http://localhost:3030\"\n  },\n  production: {\n    API_URL: \"https://restful-link.herokuapp.com\"\n  }\n};\n\nexport const { API_URL } = config[process.env.NODE_ENV];\n","import React, { useState } from \"react\";\n\nimport { Redirect } from \"react-router-dom\";\nimport { API_URL } from \"../config\";\n\nconst createAppointment = callback => {\n  fetch(`${API_URL}/appointments/create.json`)\n    .then(response => response.json())\n    .then(d => callback(d));\n};\n\nexport default function() {\n  const [appointment, setAppointment] = useState(null);\n  return !appointment ? (\n    <div>\n      <button onClick={e => createAppointment(setAppointment)}>\n        Get Started\n      </button>\n    </div>\n  ) : (\n    <Redirect to={\"/\" + appointment._id + \"/new\"} />\n  );\n}\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./Requests.scss\";\nimport Timeago from \"react-timeago\";\nimport { TransitionGroup, CSSTransition } from \"react-transition-group\";\n\nconst Requests = ({ data, active, children, ts, appointmentId }) => (\n  <div className=\"Requests\">\n    <ul>\n      <TransitionGroup>\n        {data.map((datum, i) => (\n          <CSSTransition timeout={2000} key={datum.createdAt}>\n            <li\n              data-key={datum.createdAt}\n              key={datum.createdAt}\n              className={\n                active.createdAt === datum.createdAt && !ts ? \"active\" : \"\"\n              }\n            >\n              <Link to={`/${active.id}/${datum.createdAt}`}>\n                <pre>\n                  {datum.method} /{datum.id}\n                </pre>\n                <pre className=\"soft\">{datum.headers[\"user-agent\"]}</pre>\n                <Timeago date={datum.createdAt} />\n              </Link>\n            </li>\n          </CSSTransition>\n        ))}\n        <li className={ts === \"new\" ? \"active\" : \"\"}>\n          <Link to={\"/\" + appointmentId + \"/new\"}>Try it</Link>\n        </li>\n      </TransitionGroup>\n    </ul>\n  </div>\n);\n\nexport default Requests;\n","import React from \"react\";\nimport \"./Request.scss\";\n\nimport ReactJson from \"react-json-view\";\n\nconst parseJSON = stringOrObject => {\n  let o;\n  try {\n    o = JSON.parse(stringOrObject);\n  } catch (e) {\n    o = stringOrObject;\n  }\n  if (typeof o !== \"object\") return o;\n  for (let k in o) {\n    o[k] = parseJSON(o[k]);\n  }\n  return o;\n};\n\nconst Request = ({ data }) => (\n  <div className=\"Request\">\n    <h2>\n      <pre>\n        {data.method} /{data.id}\n      </pre>\n    </h2>\n    <time>{data.createdAt}</time>\n    <div class=\"payload\">\n      <h3>Request Body</h3>\n      <ReactJson\n        src={parseJSON(data.payload)}\n        displayDataTypes={false}\n        displayObjectSize={false}\n        enableClipboard={false}\n        name={null}\n        iconStyle=\"triangle\"\n      />\n    </div>\n    <div class=\"headers\">\n      <h3>Request Headers</h3>\n      <ReactJson\n        src={data.headers}\n        displayDataTypes={false}\n        displayObjectSize={false}\n        enableClipboard={false}\n        name={null}\n        iconStyle=\"triangle\"\n      />\n    </div>\n  </div>\n);\n\nexport default Request;\n","import React, { Component } from \"react\";\nimport io from \"socket.io-client\";\nimport Requests from \"./Requests\";\nimport Request from \"./Request\";\nimport NewRequest from \"./NewRequest\";\nimport { API_URL } from \"../config\";\n\nclass Appointment extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      requests: []\n    };\n  }\n  componentDidMount() {\n    const { id } = this.props.match.params;\n    const socket = io(API_URL);\n    socket.on(\"request\", d => {\n      let { requests } = this.state;\n      requests.push(d);\n      this.setState({ ...this.state, requests });\n    });\n\n    fetch(`${API_URL}/${id}.json`)\n      .then(d => d.json())\n      .then(d => {\n        let { requests } = d;\n        this.setState({ ...this.state, requests });\n      });\n  }\n  render() {\n    const { requests } = this.state;\n    const { ts, id } = this.props.match.params;\n    if (!requests) return <div>Loading...</div>;\n    const active = requests.find(d => d.createdAt === ts);\n    const data = requests.sort(\n      (a, b) => new Date(b.createdAt) - new Date(a.createdAt)\n    );\n    return (\n      <div className=\"flex\">\n        {ts === \"new\" ? (\n          <React.Fragment>\n            <Requests\n              active={data[0]}\n              appointmentId={id}\n              data={data}\n              ts=\"new\"\n            />\n            <NewRequest appointmentURI={API_URL} />\n          </React.Fragment>\n        ) : (\n          <React.Fragment>\n            <div>\n              <Requests appointmentId={id} active={active} data={data} />\n            </div>\n            <div>{active && <Request data={active} />}</div>\n          </React.Fragment>\n        )}\n      </div>\n    );\n  }\n}\nexport default Appointment;\n","import React from \"react\";\nimport \"./App.scss\";\nimport Home from \"./Home\";\nimport Appointment from \"./Appointment\";\n\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\n\nconst App = () => (\n  <Router>\n    <h1>\n      <Link to=\"/\">Restful.link</Link>\n    </h1>\n    <div className=\"App\">\n      <Switch>\n        <Route path=\"/:id/:ts\" component={Appointment} />\n        <Route path=\"/\" component={Home} />\n      </Switch>\n    </div>\n  </Router>\n);\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}